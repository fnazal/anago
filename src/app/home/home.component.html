<div class="hero-container">

    <header class="navbar">
        <div class="hamburger-icon" (click)="toggleNavbar()">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <div class="navbar-center" [class.collapsed]="isNavbarCollapsed">
            <div class="logo-container">
                <button class="logo-btn" [class.active]="restaurantName === 'ANAGO'" (click)="setRestaurant('ANAGO')">ANAGO</button>
                <span class="logo-divider">|</span>
                <button class="logo-btn" [class.active]="restaurantName === 'OTORO'" (click)="setRestaurant('OTORO')">OTORO</button>
            </div>
            <nav>
                <a href="#" class="nav-link" (click)="goHome(); $event.preventDefault()">INICIO</a>
                <a href="#" class="nav-link" (click)="goMenu(); $event.preventDefault()">MENU</a>
                <a href="#" class="nav-link" (click)="openLocation(); $event.preventDefault()">UBICACIÓN</a>
            </nav>
        </div>

        <div class="navbar-right" [class.collapsed]="isNavbarCollapsed">
            <span class="social-icon" *ngIf="restaurantName === 'ANAGO'">
                <a href="https://www.facebook.com/profile.php?id=61559130270738" target="_blank"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg"></a>
            </span>
            <span class="social-icon">
                <a href="https://www.instagram.com/anagoizakaya" target="_blank" *ngIf="restaurantName === 'ANAGO'"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg"></a>
                <a href="https://www.instagram.com/otorobyanago/" target="_blank" *ngIf="restaurantName === 'OTORO'"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg"></a>
            </span>
        </div>
    </header>

    <section class="hero-content">
        <div class="left-image">
            <img [src]="leftImageUrl" [style.opacity]="imageOpacity" alt="food">
            
            <!-- Menu Overlay -->
            <div 
                class="menu-overlay" 
                *ngIf="showMenuPopup"
                [ngClass]="{ closing: menuClosing }"
                (scroll)="onMenuScroll($event)"
                #menuOverlay
            >

                <app-menu-dinamico
                    [selectedCategory]="selectedCategory"
                    [isVeggie]="isVeggie"
                    [fadingItemIndices]="fadingItemIndices"
                    (closeMenu)="closeMenuPopup()"
                ></app-menu-dinamico>

            </div>
            
            <!-- Navigation buttons for menu -->
            <nav class="horizontal-navbar" *ngIf="showHorizontalNav && showLeftNavs && restaurantName === 'ANAGO'">
                <button class="horizontal-btn" [class.menu-active]="showMenuPopup" (click)="setVeggie(false)">TRADICIONAL</button>
                <span class="divider" [class.menu-active]="showMenuPopup">|</span>
                <button class="horizontal-btn veggie-btn" [class.menu-active]="showMenuPopup" (click)="setVeggie(true)">VEGGIE</button>
            </nav>

            <nav class="vertical-navbar" *ngIf="showLeftNavs">
                <button class="vertical-text left-vertical" [ngClass]="{'veggie-mode': isVeggie, 'menu-active': showMenuPopup}" (click)="openMenuCategory('entradas')">ENTRADAS</button>
                <button class="vertical-text left-vertical" [ngClass]="{'veggie-mode': isVeggie, 'menu-active': showMenuPopup}" (click)="openMenuCategory('fondo')">FONDO</button>
                <button class="vertical-text left-vertical" [ngClass]="{'veggie-mode': isVeggie, 'menu-active': showMenuPopup}" (click)="openMenuCategory('ramen')">RAMEN</button>
            </nav>
        </div>

        <div class="hero-image">
            <img src="https://images.pexels.com/photos/1907228/pexels-photo-1907228.jpeg?auto=compress&cs=tinysrgb&w=1600"
                alt="ramen">
            
            <div class="center-info">
                <div class="grand-opening">
                    <span class="title">APERTURA ANAGO IZAKAYA<br> PASEO HACIENDA, TALCA</span>
                    <span class="date">DICIEMBRE 2025</span>
                </div>
            </div>

            <div class="vertical-text right-vertical">
                {{ kanjiText }}
            </div>
        </div>
    </section>

    <!-- Location Popup -->
    <div class="location-popup" *ngIf="showLocationPopup" (click)="closeLocation()" [class.closing]="isClosing">
        <div class="popup-content" (click)="$event.stopPropagation()" [class.closing]="isClosing">
            <h2>NUESTRA UBICACIÓN</h2>
            
            <div class="location-buttons">
                <button 
                    class="location-btn" 
                    [class.active]="selectedLocation === 'sanjavier'"
                    (click)="selectLocation('sanjavier')">
                    SAN JAVIER
                </button>
                <button 
                    class="location-btn" 
                    [class.active]="selectedLocation === 'talca'"
                    (click)="selectLocation('talca')">
                    TALCA
                </button>
            </div>

            <p class="address" *ngIf="selectedLocation === 'sanjavier' && !isLoadingMap">
                ANAGO IZAKAYA & OTORO<br>
                Miraflores #1368, San Javier
            </p>
            <p class="address" *ngIf="selectedLocation === 'talca' && !isLoadingMap">
                ANAGO IZAKAYA<br>
                Paseo Hacienda, Av. Pehuenche Norte #1143, Talca
            </p>

            <div class="loading-spinner" *ngIf="isLoadingMap">
                <div class="spinner"></div>
            </div>
            
            <div class="map-container" *ngIf="selectedLocation === 'sanjavier' && !isLoadingMap">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3244.356579300493!2d-71.73619172421611!3d-35.59426977261545!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9665e9001e4f8b65%3A0xaf8f6e4e5946743c!2sAnago%20Izakaya!5e0!3m2!1ses-419!2scl!4v1763875258863!5m2!1ses-419!2scl" 
                    width="100%" 
                    height="100%" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>

            <div class="map-container" *ngIf="selectedLocation === 'talca' && !isLoadingMap">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3250.4850417932153!2d-71.60470690547733!3d-35.44278453180764!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9665c1002fb5e747%3A0x53e8f5ea0dba039d!2sPaseo%20Hacienda!5e0!3m2!1ses-419!2scl!4v1763875530289!5m2!1ses-419!2scl" 
                    width="100%" 
                    height="100%" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </div>

</div>